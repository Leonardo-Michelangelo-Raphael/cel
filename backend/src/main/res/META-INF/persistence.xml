<?xml version="1.0" encoding="UTF-8"?>
<persistence xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd">
    <persistence-unit name="commerce-persistence-unit">

        <provider>org.apache.openjpa.persistence.PersistenceProviderImpl</provider>
        <mapping-file>META-INF/PersonInfo-orm.xml</mapping-file>

        <class>com.imine.backend.model.PersonInfo</class>
        <class>com.imine.backend.model.User</class>

        <properties>
            <property name="openjpa.ConnectionFactoryName" value="java:comp/env/${ep_jndi}"/>
            <property name="openjpa.Log" value="commons"/>
            <property name="openjpa.ConnectionFactoryProperties" value="PrettyPrint=true, PrettyPrintLineLength=120"/>
            <property name="openjpa.jdbc.EagerFetchMode" value="parallel"/>
            <property name="openjpa.jdbc.SubclassFetchMode" value="parallel"/>
            <property name="openjpa.DetachState" value="loaded(DetachedStateField=true)"/>
            <property name="openjpa.Multithreaded" value="true"/>
            <property name="openjpa.AutoDetach" value="close, commit, nontx-read"/>
            <property name="openjpa.jdbc.DBDictionary" value="SupportsSubselect=true, SupportsCorrelatedSubselect=false" />

            <!-- Uncomment the section below to enable data caching, comment them out to disable -->
            <property name="openjpa.DataCache" value="true(cacheSize=25000,softReferenceSize=0)"/>
            <property name="openjpa.RemoteCommitProvider" value="sjvm"/>
            <property name="openjpa.DataCacheTimeout" value="1000"/>
            <property name="openjpa.QueryCompilationCache" value="true(cacheSize=1000,softReferenceSize=0)" />
            <property name="openjpa.QueryCache" value="true(cacheSize=2000,softReferenceSize=0)"/>
            <property name="openjpa.jdbc.QuerySQLCache" value="false"/>
        </properties>

    </persistence-unit>

</persistence>
